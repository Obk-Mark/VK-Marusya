import{l as te,R as $,r as Y,j as f,L as xe,B as U,b as Ae,m as Te,n as Oe,h as qe,o as Ie,q as je}from"./index-Cywn9ANu.js";import{u as De}from"./useFavoriteMovie-BwDHl8lX.js";var W={exports:{}},G,oe;function Ve(){if(oe)return G;oe=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G=n,G}var z,se;function ke(){if(se)return z;se=1;var n=Ve();function e(){}function t(){}return t.resetWarningCache=e,z=function(){function r(c,p,u,a,s,l){if(l!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},z}var le;function Fe(){return le||(le=1,W.exports=ke()()),W.exports}var Me=Fe();const y=te(Me);var J,ue;function Le(){return ue||(ue=1,J=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){var c=i[o];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),J}var Ye=Le();const Ue=te(Ye);var q={exports:{}},Z,ce;function Be(){if(ce)return Z;ce=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(r,o){var i={name:r,handler:o};return t[r]=t[r]||[],t[r].unshift(i),i},e.off=function(r){var o=t[r.name].indexOf(r);o!==-1&&t[r.name].splice(o,1)},e.trigger=function(r,o){var i=t[r],c;if(i)for(c=i.length;c--;)i[c].handler(o)},e},Z=n,Z}var I={exports:{}},H,de;function Qe(){if(de)return H;de=1,H=function(o,i,c){var p=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof i=="function"&&(c=i,i={}),i=i||{},c=c||function(){},u.type=i.type||"text/javascript",u.charset=i.charset||"utf8",u.async="async"in i?!!i.async:!0,u.src=o,i.attrs&&n(u,i.attrs),i.text&&(u.text=""+i.text);var a="onload"in u?e:t;a(u,c),u.onload||e(u,c),p.appendChild(u)};function n(r,o){for(var i in o)r.setAttribute(i,o[i])}function e(r,o){r.onload=function(){this.onerror=this.onload=null,o(null,r)},r.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+this.src),r)}}function t(r,o){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,o(null,r))}}return H}var fe;function $e(){return fe||(fe=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Qe(),r=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=function(i){var c=new Promise(function(p){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){p(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(s){s&&i.trigger("error",s)})}var a=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){a&&a(),p(window.YT)}});return c},n.exports=e.default}(I,I.exports)),I.exports}var j={exports:{}},D={exports:{}},V={exports:{}},K,pe;function We(){if(pe)return K;pe=1;var n=1e3,e=n*60,t=e*60,r=t*24,o=r*365.25;K=function(a,s){s=s||{};var l=typeof a;if(l==="string"&&a.length>0)return i(a);if(l==="number"&&isNaN(a)===!1)return s.long?p(a):c(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function i(a){if(a=String(a),!(a.length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(s){var l=parseFloat(s[1]),d=(s[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*t;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function c(a){return a>=r?Math.round(a/r)+"d":a>=t?Math.round(a/t)+"h":a>=e?Math.round(a/e)+"m":a>=n?Math.round(a/n)+"s":a+"ms"}function p(a){return u(a,r,"day")||u(a,t,"hour")||u(a,e,"minute")||u(a,n,"second")||a+" ms"}function u(a,s,l){if(!(a<s))return a<s*1.5?Math.floor(a/s)+" "+l:Math.ceil(a/s)+" "+l+"s"}return K}var he;function Ge(){return he||(he=1,function(n,e){e=n.exports=o.debug=o.default=o,e.coerce=u,e.disable=c,e.enable=i,e.enabled=p,e.humanize=We(),e.names=[],e.skips=[],e.formatters={};var t;function r(a){var s=0,l;for(l in a)s=(s<<5)-s+a.charCodeAt(l),s|=0;return e.colors[Math.abs(s)%e.colors.length]}function o(a){function s(){if(s.enabled){var l=s,d=+new Date,v=d-(t||d);l.diff=v,l.prev=t,l.curr=d,t=d;for(var h=new Array(arguments.length),m=0;m<h.length;m++)h[m]=arguments[m];h[0]=e.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");var g=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,function(_,w){if(_==="%%")return _;g++;var b=e.formatters[w];if(typeof b=="function"){var x=h[g];_=b.call(l,x),h.splice(g,1),g--}return _}),e.formatArgs.call(l,h);var P=s.log||e.log||console.log.bind(console);P.apply(l,h)}}return s.namespace=a,s.enabled=e.enabled(a),s.useColors=e.useColors(),s.color=r(a),typeof e.init=="function"&&e.init(s),s}function i(a){e.save(a),e.names=[],e.skips=[];for(var s=(typeof a=="string"?a:"").split(/[\s,]+/),l=s.length,d=0;d<l;d++)s[d]&&(a=s[d].replace(/\*/g,".*?"),a[0]==="-"?e.skips.push(new RegExp("^"+a.substr(1)+"$")):e.names.push(new RegExp("^"+a+"$")))}function c(){e.enable("")}function p(a){var s,l;for(s=0,l=e.skips.length;s<l;s++)if(e.skips[s].test(a))return!1;for(s=0,l=e.names.length;s<l;s++)if(e.names[s].test(a))return!0;return!1}function u(a){return a instanceof Error?a.stack||a.message:a}}(V,V.exports)),V.exports}var ye;function ze(){return ye||(ye=1,function(n,e){var t={};e=n.exports=Ge(),e.log=i,e.formatArgs=o,e.save=c,e.load=p,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(a){try{return JSON.stringify(a)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}};function o(a){var s=this.useColors;if(a[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+a[0]+(s?"%c ":" ")+"+"+e.humanize(this.diff),!!s){var l="color: "+this.color;a.splice(1,0,l,"color: inherit");var d=0,v=0;a[0].replace(/%[a-zA-Z%]/g,function(h){h!=="%%"&&(d++,h==="%c"&&(v=d))}),a.splice(v,0,l)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(a){try{a==null?e.storage.removeItem("debug"):e.storage.debug=a}catch{}}function p(){var a;try{a=e.storage.debug}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=t.DEBUG),a}e.enable(p());function u(){try{return window.localStorage}catch{}}}(D,D.exports)),D.exports}var k={exports:{}},ve;function Je(){return ve||(ve=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default}(k,k.exports)),k.exports}var F={exports:{}},ge;function Ze(){return ge||(ge=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default}(F,F.exports)),F.exports}var M={exports:{}},L={exports:{}},me;function He(){return me||(me=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default}(L,L.exports)),L.exports}var _e;function Ke(){return _e||(_e=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=He(),r=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default}(M,M.exports)),M.exports}var Pe;function Xe(){return Pe||(Pe=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ze(),r=s(t),o=Je(),i=s(o),c=Ze(),p=s(c),u=Ke(),a=s(u);function s(v){return v&&v.__esModule?v:{default:v}}var l=(0,r.default)("youtube-player"),d={};d.proxyEvents=function(v){var h={},m=function(A){var E="on"+A.slice(0,1).toUpperCase()+A.slice(1);h[E]=function(R){l('event "%s"',E,R),v.trigger(A,R)}},g=!0,P=!1,_=void 0;try{for(var w=p.default[Symbol.iterator](),b;!(g=(b=w.next()).done);g=!0){var x=b.value;m(x)}}catch(O){P=!0,_=O}finally{try{!g&&w.return&&w.return()}finally{if(P)throw _}}return h},d.promisifyPlayer=function(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},g=function(E){h&&a.default[E]?m[E]=function(){for(var R=arguments.length,T=Array(R),C=0;C<R;C++)T[C]=arguments[C];return v.then(function(S){var N=a.default[E],Ce=S.getPlayerState(),re=S[E].apply(S,T);return N.stateChangeRequired||Array.isArray(N.acceptableStates)&&N.acceptableStates.indexOf(Ce)===-1?new Promise(function(ae){var Re=function ne(){var Ne=S.getPlayerState(),ie=void 0;typeof N.timeout=="number"&&(ie=setTimeout(function(){S.removeEventListener("onStateChange",ne),ae()},N.timeout)),Array.isArray(N.acceptableStates)&&N.acceptableStates.indexOf(Ne)!==-1&&(S.removeEventListener("onStateChange",ne),clearTimeout(ie),ae())};S.addEventListener("onStateChange",Re)}).then(function(){return re}):re})}:m[E]=function(){for(var R=arguments.length,T=Array(R),C=0;C<R;C++)T[C]=arguments[C];return v.then(function(S){return S[E].apply(S,T)})}},P=!0,_=!1,w=void 0;try{for(var b=i.default[Symbol.iterator](),x;!(P=(x=b.next()).done);P=!0){var O=x.value;g(O)}}catch(A){_=!0,w=A}finally{try{!P&&b.return&&b.return()}finally{if(_)throw w}}return m},e.default=d,n.exports=e.default}(j,j.exports)),j.exports}var be;function et(){return be||(be=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r=Be(),o=a(r),i=$e(),c=a(i),p=Xe(),u=a(p);function a(l){return l&&l.__esModule?l:{default:l}}var s=void 0;e.default=function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=(0,o.default)();if(s||(s=(0,c.default)(h)),d.events)throw new Error("Event handlers cannot be overwritten.");if(typeof l=="string"&&!document.getElementById(l))throw new Error('Element "'+l+'" does not exist.');d.events=u.default.proxyEvents(h);var m=new Promise(function(P){if((typeof l>"u"?"undefined":t(l))==="object"&&l.playVideo instanceof Function){var _=l;P(_)}else s.then(function(w){var b=new w.Player(l,d);return h.on("ready",function(){P(b)}),null})}),g=u.default.promisifyPlayer(m,v);return g.on=h.on,g.off=h.off,g},n.exports=e.default}(q,q.exports)),q.exports}var tt=et();const rt=te(tt);var at=Object.defineProperty,nt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,we=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,Se=(n,e,t)=>e in n?at(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,X=(n,e)=>{for(var t in e||(e={}))ot.call(e,t)&&Se(n,t,e[t]);if(we)for(var t of we(e))st.call(e,t)&&Se(n,t,e[t]);return n},ee=(n,e)=>nt(n,it(e)),lt=(n,e,t)=>new Promise((r,o)=>{var i=u=>{try{p(t.next(u))}catch(a){o(a)}},c=u=>{try{p(t.throw(u))}catch(a){o(a)}},p=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,c);p((t=t.apply(n,e)).next())});function ut(n,e){var t,r;if(n.videoId!==e.videoId)return!0;const o=((t=n.opts)==null?void 0:t.playerVars)||{},i=((r=e.opts)==null?void 0:r.playerVars)||{};return o.start!==i.start||o.end!==i.end}function Ee(n={}){return ee(X({},n),{height:0,width:0,playerVars:ee(X({},n.playerVars),{autoplay:0,start:0,end:0})})}function ct(n,e){return n.videoId!==e.videoId||!Ue(Ee(n.opts),Ee(e.opts))}function dt(n,e){var t,r,o,i;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((r=e.opts)==null?void 0:r.width)||((o=n.opts)==null?void 0:o.height)!==((i=e.opts)==null?void 0:i.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var ft={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},pt={videoId:y.string,id:y.string,className:y.string,iframeClassName:y.string,style:y.object,title:y.string,loading:y.oneOf(["lazy","eager"]),opts:y.objectOf(y.any),onReady:y.func,onError:y.func,onPlay:y.func,onPause:y.func,onEnd:y.func,onStateChange:y.func,onPlaybackRateChange:y.func,onPlaybackQualityChange:y.func},B=class extends $.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,r;return(r=(t=this.props).onReady)==null?void 0:r.call(t,e)},this.onPlayerError=e=>{var t,r;return(r=(t=this.props).onError)==null?void 0:r.call(t,e)},this.onPlayerStateChange=e=>{var t,r,o,i,c,p,u,a;switch((r=(t=this.props).onStateChange)==null||r.call(t,e),e.data){case B.PlayerState.ENDED:(i=(o=this.props).onEnd)==null||i.call(o,e);break;case B.PlayerState.PLAYING:(p=(c=this.props).onPlay)==null||p.call(c,e);break;case B.PlayerState.PAUSED:(a=(u=this.props).onPause)==null||a.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,r;return(r=(t=this.props).onPlaybackRateChange)==null?void 0:r.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,r;return(r=(t=this.props).onPlaybackQualityChange)==null?void 0:r.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=ee(X({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=rt(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,r,o;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let i=!1;const c={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),i){(r=this.internalPlayer)==null||r.loadVideoById(c);return}(o=this.internalPlayer)==null||o.cueVideoById(c)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return lt(this,null,function*(){dt(n,this.props)&&this.updatePlayer(),ct(n,this.props)&&(yield this.resetPlayer()),ut(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return $.createElement("div",{className:this.props.className,style:this.props.style},$.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Q=B;Q.propTypes=pt;Q.defaultProps=ft;Q.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var ht=Q;const yt=({movieTitle:n,trailerYouTubeId:e,toggleTrailerOpen:t})=>{const[r,o]=Y.useState(!0),[i,c]=Y.useState(!0),p=Y.useRef(null),u=d=>{d.preventDefault(),p.current&&(r?p.current.pauseVideo():p.current.playVideo())},a=d=>{c(!1),p.current=d.target,d.target.playVideo()},s=d=>{o(d.data===1)},l={height:"100%",width:"100%",playerVars:{autoplay:0,modestbranding:1,rel:0,controls:0,enablejsapi:1}};return f.jsx("div",{className:"trailer-window",children:f.jsxs("div",{className:"trailer-window__wrapper",children:[f.jsxs("div",{className:"trailer-window__video-container",children:[i?f.jsx("div",{className:"trailer-window__loader",children:f.jsx(xe,{})}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:r?"trailer-window__state-indicator":"trailer-window__state-indicator trailer-window__state-indicator--active",children:r?"⏸":"▶"}),f.jsx("span",{className:r?"trailer-window__title":"trailer-window__title trailer-window__title--active",children:n})]}),f.jsx(ht,{videoId:e||"",opts:l,onReady:a,onStateChange:s,onClick:u,className:"trailer-window__video",iframeClassName:"trailer-window__video-iframe"},e)]}),f.jsx(U,{handleClick:t,classNames:"btn--icon btn--white btn--curcle trailer-window__close-btn",icon:{name:"close-icon",width:24,height:24}})]})})},mt=({movie:n,cardType:e})=>{const{isUserLogin:t}=Ae(l=>l.user),{toggleAuthForm:r}=Te(),{isFavorite:o,toggleFavoriteMovie:i}=De(n.id.toString()),[c,p]=Y.useState(!1),u=()=>{p(l=>!l)},a=()=>{t?i():r()},s=()=>{je.invalidateQueries({queryKey:["movie","random"]})};return f.jsxs("div",{className:e==="moviePage"?"movie-card":"movie-card movie-card--main-page",children:[f.jsxs("div",{className:"movie-card__content",children:[f.jsxs("div",{className:"movie-card__info",children:[f.jsx(Oe,{rating:n.tmdbRating}),f.jsx("span",{className:"movie-card__info-span",children:n.releaseYear}),f.jsx("span",{className:"movie-card__info-span",children:qe(n.genres[0])}),f.jsx("span",{className:"movie-card__info-span",children:n.runtime%60===0?`${Math.floor(n.runtime/60)} ч`:`${Math.floor(n.runtime/60)} ч ${n.runtime%60} мин`})]}),f.jsx("h2",{className:"section__title movie-card__title",children:n.title}),f.jsx("span",{className:e==="moviePage"?"movie-card__descr":"movie-card__descr movie-card__descr--cut",children:n.plot}),f.jsxs("div",{className:"movie-card__actions",children:[f.jsx(U,{classNames:"movie-card__trailer-btn btn--blue",text:"Трейлер",handleClick:u}),e==="mainPage"&&f.jsx(Ie,{to:`/movie/${n.id}`,className:"movie-card__movie-link btn btn--montana",children:"О фильме"}),f.jsx(U,{handleClick:a,classNames:o?"btn--icon btn--night-rider btn--icon--liked":"btn--icon btn--night-rider btn--icon-white",ariaLabel:"Добавить в избранное",icon:{name:o?"heart-icon-fill":"heart-icon",width:24,height:24}}),e==="mainPage"&&f.jsx(U,{handleClick:s,classNames:"btn--icon btn--night-rider",ariaLabel:"Обновить фильм",icon:{name:"reload-icon",width:24,height:24}})]})]}),f.jsx("div",{className:`movie-card__img-wrapper movie-card__img-wrapper--${e}`,children:n.backdropUrl||n.posterUrl?f.jsx("img",{className:"movie-card__img",src:n.backdropUrl||n.posterUrl||void 0,alt:`${n.title} - Poster`,width:680,height:552,loading:"eager"}):f.jsxs("picture",{className:"movie-card__img",children:[f.jsx("source",{srcSet:"/images/empty-poster@2x.webp 2x, /images/empty-poster.webp 1x",type:"image/webp"}),f.jsx("source",{srcSet:"/images/empty-poster@2x.jpg 2x, /images/empty-poster.jpg 1x",type:"image/jpeg"}),f.jsx("img",{src:"/images/empty-poster",alt:n.title})]})}),c&&f.jsx(yt,{movieTitle:n.title,trailerYouTubeId:n.trailerYouTubeId,toggleTrailerOpen:u})]})};export{mt as M};
