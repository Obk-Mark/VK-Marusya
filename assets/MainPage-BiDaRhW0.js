import{u as c,a as o,r as d,s as m,f as p,b as v,j as e,C as t,L as r,c as h}from"./index-Cywn9ANu.js";import{M as x}from"./MovieCard-DWo14fBE.js";import{M as u}from"./MoviesList-CgqTjRR0.js";import"./useFavoriteMovie-BwDHl8lX.js";const l=()=>{const a=c(),s=o({queryKey:["movie","random"],queryFn:p});return d.useEffect(()=>{s.data&&a(m({movie:s.data,isLoading:s.isLoading,isFetching:s.isFetching}))},[s.data,s.isLoading,s.isFetching,a]),s},j=()=>{l();const{data:a,isLoading:s,isFetching:i}=v(n=>n.randomMovie);return e.jsx("section",{className:"random-movie",children:e.jsx(t,{children:e.jsx("div",{className:"random-movie__wrapper",children:s||i?e.jsx(r,{}):a?e.jsx(x,{movie:a,cardType:"mainPage"}):e.jsx("span",{className:"fetch-error-text",children:"Произошла ошибка"})})})})},g=()=>{const{data:a,isLoading:s,isFetching:i}=o({queryFn:()=>h(),queryKey:["movies","top10"]});return e.jsx("section",{className:"top-movies",children:e.jsx(t,{children:e.jsxs("div",{className:"top-movies__wrapper",children:[e.jsx("h2",{className:"top-movies__title",children:"Топ 10 фильмов"}),s||i?e.jsx(r,{}):e.jsx(u,{type:"top10",data:a})]})})})},L=()=>e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(g,{})]});export{L as default};
