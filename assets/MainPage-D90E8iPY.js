import{u as c,a as o,r as d,s as m,f as p,b as v,j as s,C as t,m as h,L as n,c as l}from"./index-BE-yBk3D.js";import{M as x}from"./MovieCard-Cic4igzT.js";import{M as u}from"./MoviesList-DMbHRLX6.js";import"./useFavoriteMovie-2QzaNGnv.js";const j=()=>{const i=c(),e=o({queryKey:["movie","random"],queryFn:p});return d.useEffect(()=>{e.data&&i(m({movie:e.data,isLoading:e.isLoading,isFetching:e.isFetching}))},[e.data,e.isLoading,e.isFetching,i]),e},g=()=>{j();const{data:i,isLoading:e,isFetching:a}=v(r=>r.randomMovie);return s.jsx("section",{className:"random-movie",children:s.jsx(t,{children:s.jsx("div",{className:"random-movie__wrapper",children:s.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e||a?s.jsx(n,{}):i?s.jsx(x,{movie:i,cardType:"mainPage"}):s.jsx("span",{className:"fetch-error-text",children:"Произошла ошибка"})},i?.id||"loading")})})})},y=()=>{const{data:i,isLoading:e,isFetching:a}=o({queryFn:()=>l(),queryKey:["movies","top10"]});return s.jsx("section",{className:"top-movies",children:s.jsx(t,{children:s.jsxs("div",{className:"top-movies__wrapper",children:[s.jsx("h2",{className:"top-movies__title",children:"Топ 10 фильмов"}),e||a?s.jsx(n,{}):s.jsx(u,{type:"top10",data:i})]})})})},N=()=>s.jsxs(s.Fragment,{children:[s.jsx(g,{}),s.jsx(y,{})]});export{N as default};
