import{e as d,h,r as n,a as u,j as e,C as _,N as j,L as N,B as f,i as M}from"./index-glvWzlym.js";import{M as b}from"./MoviesList-CGeV6wR6.js";import"./useFavoriteMovie-BY_NTjNu.js";const y=()=>{const{genreName:a}=d();let t="";a&&(t=h(a));const[r,c]=n.useState(1),[g,l]=n.useState([]),o=10,{data:s,isLoading:m,isFetching:v}=u({queryFn:()=>M({count:o,page:r,genre:a}),queryKey:["movies",a,r]});n.useEffect(()=>{s&&l(i=>[...i,...s])},[s]);const p=()=>{c(i=>i+1)},x=s&&s.length===o;return e.jsx("section",{className:"section genre-movies-page",children:e.jsx(_,{children:e.jsxs("div",{className:"section__wrapper genre-movies-page__wrapper",children:[e.jsxs(j,{className:"genre-movies-page__back-link",to:"/genres",children:[e.jsx("div",{className:"genre-movies-page__back-icon",children:e.jsx("svg",{viewBox:"0 0 14 22",children:e.jsx("use",{xlinkHref:"./images/sprite.svg#back-arrow-icon"})})}),e.jsx("h2",{className:"section__title genre-movies-page__title",children:t})]}),e.jsx(b,{type:"genresPage",data:g}),e.jsx("div",{className:"genre-movies-page__bottom-group",children:m||v?e.jsx(N,{}):x&&e.jsx(f,{classNames:"genre-movies-page__show-btn btn--blue",handleClick:p,text:"Показать ещё"})})]})})})};export{y as default};
